(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},8442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(908),s(8337),s(5866);var i=s(3191),r=s(8716),a=s(7922),n=s.n(a),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"E:\\Main\\Projects\\External\\nestie\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8337)),"E:\\Main\\Projects\\External\\nestie\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\Main\\Projects\\External\\nestie\\app\\page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2706:(e,t,s)=>{Promise.resolve().then(s.bind(s,7232))},9580:(e,t,s)=>{Promise.resolve().then(s.bind(s,9941)),Promise.resolve().then(s.bind(s,381))},9523:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7232:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var i=s(326),r=s(7577),a=s(6856),n=s(5920),l=s(3734),o=s(4230);let c=(0,s(6557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var d=s(3495),x=s(7636),m=s(165),h=s(4659),u=s(4061);s(5442);var p=s(5047),f=s(434);function g(){let[e,t]=(0,r.useState)(null),[s,g]=(0,r.useState)(!0),y=(0,p.useRouter)(),b=()=>{e?"agent"===e.user_metadata?.role?y.push("/agent/dashboard"):y.push("/dashboard"):y.push("/role-selection")};return s?i.jsx("div",{className:"min-h-screen bg-nestie-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"h-12 w-12 bg-nestie-black rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(n.Z,{className:"h-6 w-6 text-nestie-white"})}),i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nestie-black mx-auto mb-4"}),i.jsx("p",{className:"text-nestie-grey-600",children:"Loading..."})]})}):i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"min-h-screen bg-nestie-white overflow-hidden",children:[i.jsx("header",{className:"relative z-50 border-b border-nestie-grey-200 bg-nestie-white/95 backdrop-blur-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,i.jsxs)(a.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-nestie-black rounded-xl flex items-center justify-center",children:i.jsx(n.Z,{className:"h-6 w-6 text-nestie-white"})}),i.jsx("span",{className:"text-3xl font-display font-bold text-nestie-black",children:"Nestie"})]}),(0,i.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[i.jsx(f.default,{href:"#features",className:"text-nestie-grey-600 hover:text-nestie-black transition-colors font-medium",children:"Features"}),i.jsx(f.default,{href:"#properties",className:"text-nestie-grey-600 hover:text-nestie-black transition-colors font-medium",children:"Properties"}),i.jsx(f.default,{href:"#about",className:"text-nestie-grey-600 hover:text-nestie-black transition-colors font-medium",children:"About"}),e?i.jsx("button",{onClick:b,className:"bg-nestie-black text-nestie-white px-6 py-2 rounded-lg hover:bg-nestie-grey-800 transition-colors font-medium",children:"Dashboard"}):(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[i.jsx(f.default,{href:"/auth/login",className:"text-nestie-grey-600 hover:text-nestie-black transition-colors font-medium",children:"Sign In"}),i.jsx(f.default,{href:"/auth/signup",className:"bg-nestie-black text-nestie-white px-6 py-2 rounded-lg hover:bg-nestie-grey-800 transition-colors font-medium",children:"Get Started"})]})]})]})})}),(0,i.jsxs)("section",{className:"relative pt-20 pb-32 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nestie-grey-50 to-nestie-white"}),i.jsx("div",{className:'absolute inset-0 bg-[url(\'data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23f5f5f5" fill-opacity="0.4"%3E%3Ccircle cx="30" cy="30" r="1"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\')] opacity-50'}),i.jsx("div",{className:"relative max-w-7xl mx-auto",children:(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,i.jsxs)("div",{className:"text-center lg:text-left",children:[(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:[(0,i.jsxs)("span",{className:"inline-flex items-center px-4 py-2 bg-nestie-grey-100 text-nestie-grey-700 rounded-full text-sm font-medium mb-6",children:[i.jsx(l.Z,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Trusted by 10,000+ users"]}),(0,i.jsxs)("h1",{className:"text-5xl md:text-7xl font-display font-bold text-nestie-black leading-tight",children:["Find Your",i.jsx("span",{className:"block text-nestie-grey-600",children:"Dream Home"})]})]}),i.jsx(a.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-nestie-grey-600 mb-10 max-w-xl mx-auto lg:mx-0 leading-relaxed",children:"Discover premium properties with our AI-powered platform. From luxury apartments to family homes, find your perfect match in Kenya's top locations."}),(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(0,i.jsxs)("button",{onClick:b,className:"group inline-flex items-center justify-center px-8 py-4 bg-nestie-black text-nestie-white font-semibold rounded-xl hover:bg-nestie-grey-800 transition-all duration-300 transform hover:scale-105",children:[e?"Go to Dashboard":"Start Your Search",i.jsx(o.Z,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(f.default,{href:"#properties",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-nestie-grey-300 text-nestie-black font-semibold rounded-xl hover:bg-nestie-grey-50 transition-colors",children:"View Properties"})]}),(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"flex items-center justify-center lg:justify-start gap-8 mt-12",children:[(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-nestie-black",children:"500+"}),i.jsx("div",{className:"text-sm text-nestie-grey-600",children:"Properties"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-nestie-black",children:"50+"}),i.jsx("div",{className:"text-sm text-nestie-grey-600",children:"Agents"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-nestie-black",children:"4.9"}),i.jsx("div",{className:"text-sm text-nestie-grey-600",children:"Rating"})]})]})]}),(0,i.jsxs)(a.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"relative",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"col-span-2 aspect-[4/3] bg-gradient-to-br from-nestie-grey-100 to-nestie-grey-200 rounded-2xl overflow-hidden shadow-2xl",children:i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(c,{className:"h-16 w-16 text-indigo-400 mx-auto mb-4"}),i.jsx("p",{className:"text-indigo-600 font-medium",children:"Modern Apartment"}),i.jsx("p",{className:"text-sm text-indigo-500",children:"Westlands, Nairobi"})]})})}),i.jsx("div",{className:"aspect-square bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl overflow-hidden shadow-lg",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(n.Z,{className:"h-12 w-12 text-emerald-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"Villa"})]})})}),i.jsx("div",{className:"aspect-square bg-gradient-to-br from-orange-50 to-amber-100 rounded-xl overflow-hidden shadow-lg",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(c,{className:"h-12 w-12 text-amber-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Townhouse"})]})})})]}),i.jsx(a.E.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0},className:"absolute -top-4 -right-4 bg-nestie-white rounded-xl shadow-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-nestie-black",children:"Available Now"})]})}),i.jsx(a.E.div,{animate:{y:[0,10,0]},transition:{duration:4,repeat:1/0},className:"absolute -bottom-4 -left-4 bg-nestie-white rounded-xl shadow-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(l.Z,{className:"h-4 w-4 text-yellow-500 fill-current"}),i.jsx("span",{className:"text-sm font-medium text-nestie-black",children:"4.9 Rating"})]})})]})]})})]}),i.jsx("section",{id:"features",className:"py-24 bg-nestie-white",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-nestie-black mb-6",children:"Why Choose Nestie?"}),i.jsx("p",{className:"text-xl text-nestie-grey-600 max-w-3xl mx-auto leading-relaxed",children:"Experience the future of real estate with our premium platform designed for modern property seekers and agents."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:i.jsx(d.Z,{className:"h-10 w-10"}),title:"Mobile-First Experience",description:"Seamlessly browse properties on any device with our responsive design optimized for mobile users.",color:"from-blue-500 to-indigo-600"},{icon:i.jsx(x.Z,{className:"h-10 w-10"}),title:"Smart Location Search",description:"Find properties with interactive maps and location-based filters powered by advanced geolocation.",color:"from-green-500 to-emerald-600"},{icon:i.jsx(m.Z,{className:"h-10 w-10"}),title:"Secure Transactions",description:"Complete transactions safely with multiple payment options including M-Pesa and international cards.",color:"from-purple-500 to-violet-600"}].map((e,t)=>(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},className:"group relative bg-nestie-white p-8 rounded-2xl border border-nestie-grey-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[i.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${e.color} text-white mb-6 group-hover:scale-110 transition-transform`,children:e.icon}),i.jsx("h3",{className:"text-xl font-bold text-nestie-black mb-4",children:e.title}),i.jsx("p",{className:"text-nestie-grey-600 leading-relaxed",children:e.description})]},t))})]})}),i.jsx("section",{id:"properties",className:"py-24 bg-nestie-grey-50",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-nestie-black mb-6",children:"Featured Properties"}),i.jsx("p",{className:"text-xl text-nestie-grey-600 max-w-2xl mx-auto",children:"Discover handpicked premium properties in Kenya's most desirable locations."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[{title:"Modern Apartment",location:"Westlands, Nairobi",price:"KSh 85,000/month",beds:2,baths:2,area:"1,200 sqft",gradient:"from-blue-400 to-indigo-500"},{title:"Luxury Villa",location:"Karen, Nairobi",price:"KSh 12M",beds:4,baths:3,area:"2,500 sqft",gradient:"from-green-400 to-emerald-500"},{title:"Executive Townhouse",location:"Lavington, Nairobi",price:"KSh 120,000/month",beds:3,baths:2,area:"1,800 sqft",gradient:"from-purple-400 to-violet-500"}].map((e,t)=>(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},className:"group bg-nestie-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[i.jsx("div",{className:`aspect-video bg-gradient-to-br ${e.gradient} flex items-center justify-center`,children:i.jsx(n.Z,{className:"h-16 w-16 text-white opacity-80"})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-nestie-black",children:e.title}),i.jsx("span",{className:"text-lg font-bold text-nestie-black",children:e.price})]}),(0,i.jsxs)("div",{className:"flex items-center text-nestie-grey-600 mb-4",children:[i.jsx(x.Z,{className:"h-4 w-4 mr-1"}),e.location]}),(0,i.jsxs)("div",{className:"flex justify-between text-sm text-nestie-grey-600",children:[(0,i.jsxs)("span",{children:[e.beds," beds"]}),(0,i.jsxs)("span",{children:[e.baths," baths"]}),i.jsx("span",{children:e.area})]})]})]},t))}),i.jsx("div",{className:"text-center",children:(0,i.jsxs)("button",{onClick:b,className:"inline-flex items-center px-8 py-4 bg-nestie-black text-nestie-white font-semibold rounded-xl hover:bg-nestie-grey-800 transition-colors",children:["View All Properties",i.jsx(o.Z,{className:"ml-2 h-5 w-5"})]})})]})}),i.jsx("section",{className:"py-24 bg-nestie-black text-nestie-white",children:i.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-6",children:"Ready to Find Your Dream Home?"}),i.jsx("p",{className:"text-xl text-nestie-grey-300 mb-10 leading-relaxed",children:"Join thousands of satisfied users who found their perfect property through Nestie."}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,i.jsxs)("button",{onClick:b,className:"inline-flex items-center justify-center px-8 py-4 bg-nestie-white text-nestie-black font-semibold rounded-xl hover:bg-nestie-grey-100 transition-colors",children:[e?"Go to Dashboard":"Get Started Free",i.jsx(o.Z,{className:"ml-2 h-5 w-5"})]}),!e&&i.jsx(f.default,{href:"/auth/login",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-nestie-grey-600 text-nestie-white font-semibold rounded-xl hover:bg-nestie-grey-900 transition-colors",children:"Sign In"})]})]})})}),i.jsx("footer",{className:"border-t border-nestie-grey-200 py-16 bg-nestie-white",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"h-10 w-10 bg-nestie-black rounded-xl flex items-center justify-center",children:i.jsx(n.Z,{className:"h-6 w-6 text-nestie-white"})}),i.jsx("span",{className:"text-3xl font-display font-bold text-nestie-black",children:"Nestie"})]}),i.jsx("p",{className:"text-nestie-grey-600 max-w-md leading-relaxed",children:"Your trusted partner in finding the perfect home. We connect property seekers with their dream homes across Kenya."})]}),(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"font-bold text-nestie-black mb-4",children:"Quick Links"}),(0,i.jsxs)("ul",{className:"space-y-2 text-nestie-grey-600",children:[i.jsx("li",{children:i.jsx(f.default,{href:"#features",className:"hover:text-nestie-black transition-colors",children:"Features"})}),i.jsx("li",{children:i.jsx(f.default,{href:"#properties",className:"hover:text-nestie-black transition-colors",children:"Properties"})}),i.jsx("li",{children:i.jsx(f.default,{href:"/auth/signup",className:"hover:text-nestie-black transition-colors",children:"Sign Up"})}),i.jsx("li",{children:i.jsx(f.default,{href:"/auth/login",className:"hover:text-nestie-black transition-colors",children:"Sign In"})})]})]}),(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"font-bold text-nestie-black mb-4",children:"Support"}),(0,i.jsxs)("ul",{className:"space-y-2 text-nestie-grey-600",children:[i.jsx("li",{children:i.jsx(f.default,{href:"/help",className:"hover:text-nestie-black transition-colors",children:"Help Center"})}),i.jsx("li",{children:i.jsx(f.default,{href:"/contact",className:"hover:text-nestie-black transition-colors",children:"Contact Us"})}),i.jsx("li",{children:i.jsx(f.default,{href:"/privacy",className:"hover:text-nestie-black transition-colors",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(f.default,{href:"/terms",className:"hover:text-nestie-black transition-colors",children:"Terms of Service"})})]})]})]}),(0,i.jsxs)("div",{className:"border-t border-nestie-grey-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-nestie-grey-500 text-sm mb-4 md:mb-0",children:"\xa9 2024 Nestie. All rights reserved."}),(0,i.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(h.Z,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"text-sm text-nestie-grey-600",children:"Secure Platform"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(u.Z,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-sm text-nestie-grey-600",children:"10,000+ Users"})]})]})]})]})})]})})}},9941:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,a:()=>o});var i=s(326),r=s(7577),a=s(5442);let n=(0,r.createContext)(void 0);function l({children:e}){let[t,s]=(0,r.useState)(null),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),x=async e=>{try{let{data:t,error:s}=await a.OQ.from("profiles").select(`
          *,
          notification_settings (*)
        `).eq("id",e).single();if(s)throw s;let i=await m(e,t.role);o({...t,stats:i,notification_settings:t.notification_settings||{email_notifications:!0,sms_notifications:!0,push_notifications:!1,marketing_emails:!1}})}catch(e){console.error("Error fetching profile:",e)}},m=async(e,t)=>{try{if("agent"===t){let[t,s,i]=await Promise.all([a.OQ.from("properties").select("id, status").eq("agent_id",e),a.OQ.from("payments").select("amount").eq("agent_id",e).eq("status","completed"),a.OQ.from("reviews").select("rating").eq("agent_id",e)]),r=t.data||[],n=s.data||[],l=i.data||[],o=n.reduce((e,t)=>e+t.amount,0),c=l.length>0?l.reduce((e,t)=>e+t.rating,0)/l.length:0;return{properties_listed:r.length,total_earnings:o,rating:Math.round(10*c)/10,reviews_count:l.length}}{let{data:t}=await a.OQ.from("rentals").select("id").eq("tenant_id",e);return{properties_rented:t?.length||0}}}catch(e){return console.error("Error fetching user stats:",e),{}}},h=async(e,t)=>{let{error:s}=await a.OQ.auth.signInWithPassword({email:e,password:t});if(s)throw s},u=async(e,t,s)=>{let{error:i}=await a.OQ.auth.signUp({email:e,password:t,options:{data:{full_name:s.fullName,phone:s.phone,role:s.role}}});if(i)throw i},p=async()=>{let{error:e}=await a.OQ.auth.signOut();if(e)throw e;s(null),o(null)},f=async e=>{if(!t)throw Error("No user logged in");try{let{error:s}=await a.OQ.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",t.id);if(s)throw s;if(e.notification_settings){let{error:s}=await a.OQ.from("notification_settings").upsert({user_id:t.id,...e.notification_settings});if(s)throw s}await x(t.id)}catch(e){throw console.error("Error updating profile:",e),e}},g=async()=>{t&&await x(t.id)};return i.jsx(n.Provider,{value:{user:t,profile:l,loading:c,signIn:h,signUp:u,signOut:p,updateProfile:f,refreshProfile:g},children:e})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5442:(e,t,s)=>{"use strict";s.d(t,{OQ:()=>i,w7:()=>r,y1:()=>n,zB:()=>a});let i=(0,s(2997).eI)("https://szdkhgmseyzyxvqvltjn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN6ZGtoZ21zZXl6eXh2cXZsdGpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTUxMDcsImV4cCI6MjA2ODkzMTEwN30.is6rNfQg4wq_UM0auM1ZDuObsuH7Nl6z4LrzGU1bkM4",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),r=async()=>{let{error:e}=await i.auth.signOut();if(e)throw e},a=async(e,t)=>{let{data:s,error:r}=await i.auth.signInWithPassword({email:e,password:t});if(r)throw r;return s},n=async(e,t,s)=>{let{data:r,error:a}=await i.auth.signUp({email:e,password:t,options:{data:s}});if(a)throw a;return r}},4230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5920:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},7636:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},165:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},3495:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},3734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5047:(e,t,s)=>{"use strict";var i=s(7389);s.o(i,"useParams")&&s.d(t,{useParams:function(){return i.useParams}}),s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(t,{useSearchParams:function(){return i.useSearchParams}})},8337:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>x});var i=s(9510),r=s(2232),a=s.n(r),n=s(2794),l=s.n(n);s(7272);var o=s(9125),c=s(8570);let d=(0,c.createProxy)(String.raw`E:\Main\Projects\External\nestie\lib\auth.tsx#AuthProvider`);(0,c.createProxy)(String.raw`E:\Main\Projects\External\nestie\lib\auth.tsx#useAuth`);let x={title:"Nestie - Modern Real Estate Platform",description:"Discover, manage, and transact real estate with ease. Mobile-first platform for property seekers and agents.",keywords:"real estate, property, rental, buying, selling, agents, Kenya, Nairobi",viewport:"width=device-width, initial-scale=1"};function m({children:e}){return i.jsx("html",{lang:"en",children:(0,i.jsxs)("body",{className:`${a().variable} ${l().variable} min-h-screen bg-nestie-white antialiased`,children:[i.jsx(d,{children:e}),i.jsx(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e5e5",borderRadius:"8px"},success:{iconTheme:{primary:"#000000",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8570).createProxy)(String.raw`E:\Main\Projects\External\nestie\app\page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[276,725,599,856],()=>s(8442));module.exports=i})();