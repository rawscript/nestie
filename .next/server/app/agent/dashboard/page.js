(()=>{var e={};e.id=2,e.ids=[2],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d}),t(6331),t(1506),t(5866);var a=t(3191),i=t(8716),r=t(7922),n=t.n(r),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["agent",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6331)),"E:\\Main\\Projects\\External\\nestie\\app\\agent\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"E:\\Main\\Projects\\External\\nestie\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\Main\\Projects\\External\\nestie\\app\\agent\\dashboard\\page.tsx"],m="/agent/dashboard/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/agent/dashboard/page",pathname:"/agent/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4611:(e,s,t)=>{Promise.resolve().then(t.bind(t,7975))},7975:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(326),i=t(7577),r=t(6856),n=t(5920),l=t(4061),c=t(1821),d=t(7358),o=t(3855),m=t(7636),p=t(2714),x=t(6557);let u=(0,x.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),h=(0,x.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var g=t(9730);let y=(0,x.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var f=t(3679),j=t(1021),b=t(9965),v=t(6749);t(5040);var N=t(434);function w(){let[e,s]=(0,i.useState)([]),[t,x]=(0,i.useState)([]),[w,k]=(0,i.useState)({totalProperties:0,occupiedProperties:0,monthlyRevenue:0,pendingBookings:0}),P=(e,s)=>{x(t.map(t=>t.id===e?{...t,status:"approve"===s?"approved":"rejected"}:t))};return a.jsx(b.i,{requiredRole:"agent",children:(0,a.jsxs)("div",{className:"min-h-screen bg-nestie-grey-50",children:[a.jsx(v.W,{userRole:"agent"}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-nestie-grey-500",children:"Total Properties"}),a.jsx("p",{className:"text-2xl font-bold text-nestie-black",children:w.totalProperties})]}),a.jsx(n.Z,{className:"h-8 w-8 text-nestie-grey-400"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-nestie-grey-500",children:"Occupied"}),a.jsx("p",{className:"text-2xl font-bold text-nestie-black",children:w.occupiedProperties})]}),a.jsx(l.Z,{className:"h-8 w-8 text-nestie-grey-400"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-nestie-grey-500",children:"Monthly Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-nestie-black",children:["KSh ",w.monthlyRevenue.toLocaleString()]})]}),a.jsx(c.Z,{className:"h-8 w-8 text-nestie-grey-400"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-nestie-grey-500",children:"Pending Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-nestie-black",children:w.pendingBookings})]}),a.jsx(d.Z,{className:"h-8 w-8 text-nestie-grey-400"})]})})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsxs)(j.Zb,{children:[a.jsx(j.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(j.ll,{children:"Your Properties"}),a.jsx(N.default,{href:"/agent/properties/add",children:(0,a.jsxs)(f.z,{size:"sm",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Add New"]})})]})}),a.jsx(j.aY,{children:a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"border border-nestie-grey-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-nestie-black",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-nestie-grey-500 flex items-center mt-1",children:[a.jsx(m.Z,{className:"h-4 w-4 mr-1"}),e.location.address]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"available"===e.status?"bg-green-100 text-green-800":"occupied"===e.status?"bg-blue-100 text-blue-800":"bg-grey-100 text-grey-800"}`,children:e.status})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-nestie-grey-600",children:[(0,a.jsxs)("span",{children:[e.bedrooms," bed"]}),(0,a.jsxs)("span",{children:[e.bathrooms," bath"]}),(0,a.jsxs)("span",{children:[e.area," sqft"]}),(0,a.jsxs)("span",{className:"font-semibold text-nestie-black",children:["KSh ",e.price.toLocaleString(),"rent"===e.type&&"/month"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(f.z,{variant:"ghost",size:"sm",children:a.jsx(p.Z,{className:"h-4 w-4"})}),a.jsx(f.z,{variant:"ghost",size:"sm",children:a.jsx(u,{className:"h-4 w-4"})}),a.jsx(f.z,{variant:"ghost",size:"sm",children:a.jsx(h,{className:"h-4 w-4"})})]})]})]},e.id))})})]})})}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsxs)(j.Zb,{children:[a.jsx(j.Ol,{children:a.jsx(j.ll,{children:"Pending Bookings"})}),a.jsx(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[t.filter(e=>"pending"===e.status).map(e=>(0,a.jsxs)("div",{className:"border border-nestie-grey-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-medium text-nestie-black",children:e.user_name}),a.jsx("p",{className:"text-sm text-nestie-grey-500",children:e.user_email})]}),a.jsx("p",{className:"text-sm text-nestie-grey-600 mb-3",children:e.message}),a.jsx("div",{className:"flex items-center justify-between text-sm text-nestie-grey-500 mb-3",children:(0,a.jsxs)("span",{children:["Visit: ",new Date(e.visit_date).toLocaleDateString()]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(f.z,{size:"sm",onClick:()=>P(e.id,"approve"),className:"flex-1",children:"Approve"}),a.jsx(f.z,{variant:"outline",size:"sm",onClick:()=>P(e.id,"reject"),className:"flex-1",children:"Reject"})]})]},e.id)),0===t.filter(e=>"pending"===e.status).length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(d.Z,{className:"h-12 w-12 text-nestie-grey-300 mx-auto mb-3"}),a.jsx("p",{className:"text-nestie-grey-500",children:"No pending bookings"})]})]})})]})}),a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsxs)(j.Zb,{children:[a.jsx(j.Ol,{children:a.jsx(j.ll,{children:"Quick Actions"})}),a.jsx(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(f.z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Add New Property"]}),(0,a.jsxs)(f.z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"View Messages"]}),(0,a.jsxs)(f.z,{variant:"outline",className:"w-full justify-start",children:[a.jsx(y,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})})]})})]})]})]})]})})}},9965:(e,s,t)=>{"use strict";t.d(s,{i:()=>c});var a=t(326),i=t(7577),r=t(5047);t(5442);var n=t(6856),l=t(5920);function c({children:e,requiredRole:s,redirectTo:t="/auth/login"}){let[c,d]=(0,i.useState)(null),[o,m]=(0,i.useState)(!0);return((0,r.useRouter)(),o)?a.jsx("div",{className:"min-h-screen bg-nestie-grey-50 flex items-center justify-center",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[a.jsx("div",{className:"h-12 w-12 bg-nestie-black rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(l.Z,{className:"h-6 w-6 text-nestie-white"})}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nestie-black mx-auto mb-4"}),a.jsx("p",{className:"text-nestie-grey-600",children:"Loading..."})]})}):!c||s&&c.user_metadata?.role!==s?null:a.jsx(a.Fragment,{children:e})}},1021:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,Zb:()=>n,aY:()=>d,ll:()=>c});var a=t(326),i=t(7577),r=t(7863);let n=(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("rounded-lg border border-nestie-grey-200 bg-nestie-white shadow-sm",e),...s}));n.displayName="Card";let l=(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight text-nestie-black",e),...s}));c.displayName="CardTitle",(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,r.cn)("text-sm text-nestie-grey-500",e),...s})).displayName="CardDescription";let d=(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",(0,i.forwardRef)(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},5040:(e,s,t)=>{"use strict";t.d(s,{$o:()=>a});let a=[{id:"1",title:"Modern 2BR Apartment in Westlands",description:"Beautiful modern apartment with city views, fully furnished with contemporary amenities. Located in the heart of Westlands with easy access to shopping malls and restaurants.",price:85e3,type:"rent",status:"available",bedrooms:2,bathrooms:2,area:1200,location:{address:"Westlands, Nairobi",lat:-1.2676,lng:36.8108},images:["/api/placeholder/400/300"],agent_id:"agent1",created_at:"2024-01-15",features:["Furnished","Parking","Security","Gym","Swimming Pool"]},{id:"2",title:"Luxury 4BR Villa in Karen",description:"Spacious villa with beautiful garden and swimming pool. Perfect for families looking for luxury living in a serene environment.",price:12e6,type:"sale",status:"available",bedrooms:4,bathrooms:3,area:2500,location:{address:"Karen, Nairobi",lat:-1.3194,lng:36.7085},images:["/api/placeholder/400/300"],agent_id:"agent2",created_at:"2024-01-10",features:["Garden","Swimming Pool","Garage","Security","Fireplace"]},{id:"3",title:"Cozy 1BR Studio in Kilimani",description:"Perfect starter home for young professionals. Modern finishes with great natural lighting and close to public transport.",price:45e3,type:"rent",status:"available",bedrooms:1,bathrooms:1,area:650,location:{address:"Kilimani, Nairobi",lat:-1.2921,lng:36.7856},images:["/api/placeholder/400/300"],agent_id:"agent1",created_at:"2024-01-20",features:["Furnished","WiFi","Security","Backup Generator"]},{id:"4",title:"Executive 3BR Townhouse in Lavington",description:"Elegant townhouse in a gated community with modern amenities. Features include a private garden and dedicated parking.",price:12e4,type:"rent",status:"occupied",bedrooms:3,bathrooms:2,area:1800,location:{address:"Lavington, Nairobi",lat:-1.2833,lng:36.7667},images:["/api/placeholder/400/300"],agent_id:"agent3",created_at:"2024-01-05",features:["Gated Community","Garden","Parking","Security","Playground"]},{id:"5",title:"Penthouse Apartment in Upper Hill",description:"Stunning penthouse with panoramic city views. Features include a private terrace and premium finishes throughout.",price:85e5,type:"sale",status:"available",bedrooms:3,bathrooms:3,area:2e3,location:{address:"Upper Hill, Nairobi",lat:-1.2921,lng:36.8219},images:["/api/placeholder/400/300"],agent_id:"agent2",created_at:"2024-01-12",features:["City Views","Terrace","Elevator","Gym","Concierge"]},{id:"6",title:"Family Home in Runda",description:"Spacious family home in the prestigious Runda estate. Features large compound, mature gardens, and excellent security.",price:18e6,type:"sale",status:"available",bedrooms:5,bathrooms:4,area:3500,location:{address:"Runda, Nairobi",lat:-1.2167,lng:36.7833},images:["/api/placeholder/400/300"],agent_id:"agent3",created_at:"2024-01-08",features:["Large Compound","Mature Garden","Staff Quarters","Security","Garage"]},{id:"7",title:"Modern 2BR in Kileleshwa",description:"Contemporary apartment with modern amenities in a quiet neighborhood. Perfect for young professionals and small families.",price:75e3,type:"rent",status:"available",bedrooms:2,bathrooms:2,area:1100,location:{address:"Kileleshwa, Nairobi",lat:-1.2833,lng:36.7833},images:["/api/placeholder/400/300"],agent_id:"agent1",created_at:"2024-01-18",features:["Modern Kitchen","Balcony","Parking","Security","Backup Power"]},{id:"8",title:"Beachfront Villa in Diani",description:"Stunning beachfront property with direct beach access. Perfect for vacation rental or permanent residence by the ocean.",price:25e6,type:"sale",status:"available",bedrooms:4,bathrooms:4,area:3e3,location:{address:"Diani Beach, Kwale",lat:-4.3297,lng:39.5772},images:["/api/placeholder/400/300"],agent_id:"agent2",created_at:"2024-01-03",features:["Beach Access","Ocean Views","Swimming Pool","Garden","Security"]},{id:"9",title:"Student Accommodation in Kikuyu",description:"Affordable housing perfect for students and young professionals. Close to universities and with good transport links.",price:25e3,type:"rent",status:"available",bedrooms:1,bathrooms:1,area:400,location:{address:"Kikuyu, Kiambu",lat:-1.2467,lng:36.6667},images:["/api/placeholder/400/300"],agent_id:"agent3",created_at:"2024-01-22",features:["Affordable","Near University","Public Transport","Security"]},{id:"10",title:"Commercial Office Space in CBD",description:"Prime office space in Nairobi CBD with excellent connectivity and modern facilities. Perfect for businesses of all sizes.",price:15e4,type:"rent",status:"available",bedrooms:0,bathrooms:2,area:1500,location:{address:"CBD, Nairobi",lat:-1.2864,lng:36.8172},images:["/api/placeholder/400/300"],agent_id:"agent1",created_at:"2024-01-14",features:["Prime Location","Elevator","Parking","Security","Conference Room"]}]},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6331:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`E:\Main\Projects\External\nestie\app\agent\dashboard\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[437,599,856,325,128,149],()=>t(4426));module.exports=a})();